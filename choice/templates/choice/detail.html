<!--
Copyright 2019 Acacia Shop
This file is part of Multiple.
    Multiple is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
    Multiple is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
    You should have received a copy of the GNU General Public License
    along with Multiple.  If not, see <https://www.gnu.org/licenses/>.
-->
{# -*- coding:utf-8 -*-#}
{% extends "choice/base.html" %}
{% load bootstrap4 %}


{% block content %}
{% if messages %}
  {# Django のメッセージに記録している内容があればここで表示 #}
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="messages mt-3">
          {% for message in messages %}
            <div class="alert alert-dismissable alert-{{ message.tags }}" data-alert="alert">
              <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
              {{ message }}
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
{% endif %}
<div class="container">
    <div class="row">
      <div class="col-3">
	<p>作成者</p>
      </div>
      <div class="col-9">
	<p>{{ exam_detail.author }}</p>
      </div>
      <div class="col-3">
	<p>作成日</p>
      </div>
      <div class="col-9">
	<p>{{ exam_detail.created_date|date }}</p>
      </div>
    </div>
    <p>{{ exam_detail.title }}</p>

{% if messages %}
  {# Django のメッセージに記録している内容があればここで表示 #}
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="messages mt-3">
          {% for message in messages %}
	    {% if message %}
	      <div class="alert alert-dismissable alert-{{ message.tags }}" data-alert="alert">
              <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
              {{ message }}
	      </div>
	    {% endif %}
	  {% endfor %}
	</div>
      </div>
    </div>
  </div>
{% endif %}

    <p><a class="btn btn-outline-secondary" href="{% url 'choice:exam-delete' exam_detail.id %}"> delete </a></p>
    <p><a class="btn btn-outline-secondary" href="{% url 'choice:exam-update' exam_detail.id %}"> update </a></p>
    <p><a class="btn btn-outline-secondary" href="{% url 'choice:exam-index' %}"> index </a></p>


    <form action="{% url 'choice:exam-vote' exam_detail.id %}" method="post">
      {% csrf_token %}
      {% for question in exam_detail.question_set.all %}
	<input type="checkbox" name="question" id="question{{ forloop.counter }}" value="{{ question.id }}" />
	<label for="question{{ forloop.counter }}">{{ question.no }}- {{quesion.sub_no}}</label>
      {% endfor %}
      
      <input type="submit" class="btn btn-outline-primary" value="Vote" />
    </form>
  </div>
{% endblock %}
